package jenkins;

import java.io.File;

import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.chrome.ChromeDriver;
import org.openqa.selenium.chrome.ChromeOptions;
import org.openqa.selenium.firefox.FirefoxDriver;
import org.openqa.selenium.support.ui.ExpectedConditions;
import org.openqa.selenium.support.ui.WebDriverWait;
import org.testng.annotations.AfterClass;
import org.testng.annotations.AfterMethod;
import org.testng.annotations.AfterSuite;
import org.testng.annotations.AfterTest;
import org.testng.annotations.BeforeClass;
import org.testng.annotations.BeforeMethod;
import org.testng.annotations.BeforeSuite;
import org.testng.annotations.BeforeTest;
import org.testng.annotations.Parameters;
import org.testng.ITestContext;
import org.testng.ITestListener;
import org.testng.ITestResult;

import com.aventstack.extentreports.ExtentReports;
import com.aventstack.extentreports.ExtentTest;
import com.aventstack.extentreports.Status;
import com.aventstack.extentreports.reporter.ExtentHtmlReporter;
import com.mongodb.diagnostics.logging.Logger;

import java.io.File;
import java.io.IOException;
import java.net.Inet4Address;
import java.net.UnknownHostException;

import org.openqa.selenium.By;
import org.openqa.selenium.Proxy;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.chrome.ChromeDriver;
import org.openqa.selenium.remote.CapabilityType;
import org.openqa.selenium.remote.DesiredCapabilities;

import net.lightbody.bmp.BrowserMobProxy;
import net.lightbody.bmp.BrowserMobProxyServer;
import net.lightbody.bmp.client.ClientUtil;
import net.lightbody.bmp.core.har.Har;
import net.lightbody.bmp.proxy.CaptureType;

public class BaseforJenkins {

	protected WebDriver driver;
	protected String generateString;
	protected String dev = "https://mydev.logiwa.com/en/public/signin/?isTestAutomationLive=true";
	protected String stage = "https://mystage.logiwa.com/en/public/signin/?isTestAutomationLive=true";
	protected String prod = "https://my.logiwa.com/en/public/signin/?isTestAutomationLive=true";
	protected String myv2 = "https://myv2.logiwa.com/en/public/signin/?isTestAutomationLive=true";
	public String Email = "testautomation04062test@test.com";
	public String Password = "Test*01";
	String driverPath = "src\\test\\resources\\chromedriver.exe";
	String stageEmail = "stageautomation@logiwa.com";
	String prodEmail = "prodautomation@logiwa.com";

	@BeforeClass

	public void openMyLogiwa() throws InterruptedException {
		System.setProperty("webdriver.chrome.driver", driverPath);
		DesiredCapabilities capabilities = new DesiredCapabilities();
		driver = new ChromeDriver(capabilities);
		driver.get(dev);
		Thread.sleep(3000);
		driver.manage().window().maximize();
		WebElement username = driver.findElement(By.name("email"));
		WebElement password = driver.findElement(By.name("password"));
		WebElement logInButton = driver.findElement(By.xpath("//button[contains(.,'Sign In')]"));

		WebDriverWait wait = new WebDriverWait(driver, 20);
		wait.until(ExpectedConditions.elementToBeClickable((username)));
		username.sendKeys(Email);
		Thread.sleep(1000);
		wait.until(ExpectedConditions.elementToBeClickable((password)));
		password.sendKeys(Password);
		Thread.sleep(1000);
		wait.until(ExpectedConditions.elementToBeClickable((logInButton)));
		logInButton.click();

	}

	@AfterClass

	public void closeMyLogiwa() throws InterruptedException {

		Thread.sleep(5000);

		WebDriverWait wait = new WebDriverWait(driver, 20);
		WebElement logoutScrollDownButton = driver.findElement(By.xpath("//div[3]/i"));
		wait.until(ExpectedConditions.elementToBeClickable((logoutScrollDownButton)));
		logoutScrollDownButton.click();
		Thread.sleep(3000);
		WebElement signoutButton = driver.findElement(By.xpath("//a[contains(text(),'Sign Out')]"));
		signoutButton.click();

		System.out.println("Your Test Has Been Ended Successfully.");
		Thread.sleep(1000);
		System.out.println("Your Test is going to Close..");

		driver.quit();

	}

}
